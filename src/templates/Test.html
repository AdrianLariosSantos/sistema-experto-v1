{% extends "Index.html" %}

{% block content %}

<section class="space-y-8">

<div class="section-card bg-gradient-to-br from-white to-sky-50">
  <div class="section-header">
    <div class="space-y-2">
      <span class="pill">Test de Hamilton</span>
      <h2>Evaluación de ansiedad y depresión</h2>
      <p class="text-slate-600">Completa el cuestionario con honestidad. Los resultados son orientativos y no sustituyen atención profesional.</p>
    </div>
    <div class="grid gap-2 text-sm text-slate-600">
      <div class="flex items-center gap-2">
        <span class="h-2 w-2 rounded-full bg-emerald-500"></span>
        Tiempo estimado: 6-8 minutos
      </div>
      <div class="flex items-center gap-2">
        <span class="h-2 w-2 rounded-full bg-sky-500"></span>
        Escala: 0 (Nunca) a 4 (Frecuentemente)
      </div>
      <div class="flex items-center gap-2">
        <span class="h-2 w-2 rounded-full bg-amber-500"></span>
        Responde una opción por pregunta
      </div>
    </div>
  </div>
</div>

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
    <path
      d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
  </symbol>
  <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
    <path
      d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" />
  </symbol>
  <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
    <path
      d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
  </symbol>
</svg>

<div class="alert alert-primary d-flex align-items-center" role="alert">
  <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:">
    <use xlink:href="#info-fill" />
  </svg>
  <div>
    A continuación encontrarás una evaluación basada en la escala de Hamilton para medir el nivel de
    ansiedad y depresión. Responde una sola opción por pregunta. Cada respuesta puntúa de 0 a 4.
  </div>
</div>

<div class="section-card">
  <div class="section-header">
    <div>
      <h3 class="section-title">Guía de interpretación</h3>
      <p class="section-subtitle">Consulta el rango de puntuación y su gravedad estimada.</p>
    </div>
  </div>
  <div class="table-container">
    <table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Puntuación</th>
      <th scope="col">Gravedad estimada</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
      <td>0-7</td>
      <td>Estado normal</td>
    </tr>
    <tr>
      <th scope="row">2</th>
      <td>8-12</td>
      <td>Depresión o ansiedad menor</td>
    </tr>
    <tr>
      <th scope="row">3</th>
      <td>13-17</td>
      <td>Menor que depresión o ansiedad mayor</td>
    </tr>
    <tr>
      <th scope="row">4</th>
      <td>18-29</td>
      <td>Depresión o ansiedad mayor</td>
    </tr>
    <tr>
      <th scope="row">5</th>
      <td>30-52</td>
      <td>Más que depresión o ansiedad mayor</td>
    </tr>
  </tbody>
    </table>
  </div>
</div>

<div class="alert alert-info text-center text-xl font-semibold" role="alert">
  Evaluación para la detección de ansiedad y depresión
</div>

<div id="quiz" class="space-y-6">
  <form id="formulario" action="/Test" method="POST" class="space-y-6">
    <fieldset class="space-y-8">
      <div class="section-card">
        <div class="section-header">
          <div>
            <h3 class="section-title">Datos generales</h3>
            <p class="section-subtitle">Campos requeridos para interpretar la evaluación.</p>
          </div>
        </div>
        <div class="table-container">
          <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th colspan="8" class="text-center">Datos</th>
          </tr>
        </thead>
        <thead>
          <tr>
            <th scope="row">*</th>
            <td>Selecciona tu género</td>
            <td colspan="2"><input type="radio" name="Genero" value="Masculino"> Masculino</td>
            <td colspan="4"> <input type="radio" name="Genero" value="Femenino"> Femenino</td>
          </tr>

          <tr>
            <th scope="row">*</th>
            <td>Selecciona tu rango de edad</td>

            <td><input type="radio" name="Edad" value="18-24 años"> 18-24 años</td>
            <td><input type="radio" name="Edad" value="25-34 años"> 25-34 años</td>
            <td><input type="radio" name="Edad" value="35-44 años"> 35-44 años</td>
            <td><input type="radio" name="Edad" value="45-54 años"> 45-54 años</td>
            <td><input type="radio" name="Edad" value="Más de 54 años"> Más de 54 años</td>
          </tr>
          </tbody>
          </table>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <div>
            <h3 class="section-title">Síntomas de depresión</h3>
            <p class="section-subtitle">Indica la intensidad con la que lo has percibido.</p>
          </div>
        </div>
        <div class="table-container">
          <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Pregunta</th>
            <th scope="col">Nunca</th>
            <th scope="col">Leve</th>
            <th scope="col">Poco</th>
            <th scope="col">Mucho</th>
            <th scope="col">Frecuentemente</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <th scope="row">1</th>
            <td>Humor depresivo (tristeza, desesperanza, desamparo, sentimiento de inutilidad)</td>
            <td><input type="radio" name="Humordepresivo" value="0"> 0</td>
            <td><input type="radio" name="Humordepresivo" value="1"> 1</td>
            <td><input type="radio" name="Humordepresivo" value="2"> 2</td>
            <td><input type="radio" name="Humordepresivo" value="3"> 3</td>
            <td><input type="radio" name="Humordepresivo" value="4"> 4</td>
          </tr>

          <tr>
            <th scope="row">2</th>
            <td>Sentimiento de culpa</td>
            <td><input type="radio" name="Sentimientoculpa" value="0"> 0</td>
            <td><input type="radio" name="Sentimientoculpa" value="1"> 1</td>
            <td><input type="radio" name="Sentimientoculpa" value="2"> 2</td>
            <td><input type="radio" name="Sentimientoculpa" value="3"> 3</td>
            <td><input type="radio" name="Sentimientoculpa" value="4"> 4</td>
          </tr>

          <tr>
            <th scope="row">3</th>
            <td>Suicidio</td>
            <td><input type="radio" name="Suicidio" value="0"> 0</td>
            <td><input type="radio" name="Suicidio" value="1"> 1</td>
            <td><input type="radio" name="Suicidio" value="2"> 2</td>
            <td><input type="radio" name="Suicidio" value="3"> 3</td>
            <td><input type="radio" name="Suicidio" value="4"> 4</td>
          </tr>

          <tr>
            <th scope="row">4</th>
            <td>Insomnio precoz</td>
            <td><input type="radio" name="Insomnioprecoz" value="0"> 0</td>
            <td><input type="radio" name="Insomnioprecoz" value="1"> 1</td>
            <td><input type="radio" name="Insomnioprecoz" value="2"> 2</td>
            <td><input type="radio" name="Insomnioprecoz" value="3"> 3</td>
            <td><input type="radio" name="Insomnioprecoz" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">5</th>
            <td>Insomnio intermedio</td>
            <td><input type="radio" name="Insomniointermedio" value="0"> 0</td>
            <td><input type="radio" name="Insomniointermedio" value="1"> 1</td>
            <td><input type="radio" name="Insomniointermedio" value="2"> 2</td>
            <td><input type="radio" name="Insomniointermedio" value="3"> 3</td>
            <td><input type="radio" name="Insomniointermedio" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">6</th>
            <td>Insomnio tardio</td>
            <td><input type="radio" name="Insomniotardio" value="0"> 0</td>
            <td><input type="radio" name="Insomniotardio" value="1"> 1</td>
            <td><input type="radio" name="Insomniotardio" value="2"> 2</td>
            <td><input type="radio" name="Insomniotardio" value="3"> 3</td>
            <td><input type="radio" name="Insomniotardio" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">7</th>
            <td>Problemas de trabajo y actividades</td>
            <td><input type="radio" name="Trabajoactividades" value="0"> 0</td>
            <td><input type="radio" name="Trabajoactividades" value="1"> 1</td>
            <td><input type="radio" name="Trabajoactividades" value="2"> 2</td>
            <td><input type="radio" name="Trabajoactividades" value="3"> 3</td>
            <td><input type="radio" name="Trabajoactividades" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">8</th>
            <td>Inhibición psicomotora (lentitud de pensamiento y lenguaje, facultad de concentración disminuida,
              disminución de la actividad motora)</td>
            <td><input type="radio" name="Inhibicionpsicomotora" value="0"> 0</td>
            <td><input type="radio" name="Inhibicionpsicomotora" value="1"> 1</td>
            <td><input type="radio" name="Inhibicionpsicomotora" value="2"> 2</td>
            <td><input type="radio" name="Inhibicionpsicomotora" value="3"> 3</td>
            <td><input type="radio" name="Inhibicionpsicomotora" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">9</th>
            <td>Agitación psicomotora</td>
            <td><input type="radio" name="Agitacionpsicomotora" value="0"> 0</td>
            <td><input type="radio" name="Agitacionpsicomotora" value="1"> 1</td>
            <td><input type="radio" name="Agitacionpsicomotora" value="2"> 2</td>
            <td><input type="radio" name="Agitacionpsicomotora" value="3"> 3</td>
            <td><input type="radio" name="Agitacionpsicomotora" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">10</th>
            <td>Ansiedad psíquica</td>
            <td><input type="radio" name="Ansiedadpsiquica" value="0"> 0</td>
            <td><input type="radio" name="Ansiedadpsiquica" value="1"> 1</td>
            <td><input type="radio" name="Ansiedadpsiquica" value="2"> 2</td>
            <td><input type="radio" name="Ansiedadpsiquica" value="3"> 3</td>
            <td><input type="radio" name="Ansiedadpsiquica" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">11</th>
            <td>Ansiedad somática (signos físicos de ansiedad: gastrointestinales: sequedad de boca, diarrea, eructos,
              indigestión, etc;
              cardiovaculares: palpitaciones, cefaleas; respiratorios: hiperventilación, suspiros; frecuencia de micción
              incrementada; transpiración)</td>
            <td><input type="radio" name="Ansiedadsomatica" value="0"> 0</td>
            <td><input type="radio" name="Ansiedadsomatica" value="1"> 1</td>
            <td><input type="radio" name="Ansiedadsomatica" value="2"> 2</td>
            <td><input type="radio" name="Ansiedadsomatica" value="3"> 3</td>
            <td><input type="radio" name="Ansiedadsomatica" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">12</th>
            <td>Síntomas somáticos gastrointestinales</td>
            <td><input type="radio" name="Somaticosgastrointestinales" value="0"> 0</td>
            <td><input type="radio" name="Somaticosgastrointestinales" value="1"> 1</td>
            <td><input type="radio" name="Somaticosgastrointestinales" value="2"> 2</td>
            <td><input type="radio" name="Somaticosgastrointestinales" value="3"> 3</td>
            <td><input type="radio" name="Somaticosgastrointestinales" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">13</th>
            <td>Síntomas somáticos generales</td>
            <td><input type="radio" name="Somaticosgenerales" value="0"> 0</td>
            <td><input type="radio" name="Somaticosgenerales" value="1"> 1</td>
            <td><input type="radio" name="Somaticosgenerales" value="2"> 2</td>
            <td><input type="radio" name="Somaticosgenerales" value="3"> 3</td>
            <td><input type="radio" name="Somaticosgenerales" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">14</th>
            <td>Síntomas genitales (tales como: disminución de la libido y trastornos menstruales)</td>
            <td><input type="radio" name="Genitales" value="0"> 0</td>
            <td><input type="radio" name="Genitales" value="1"> 1</td>
            <td><input type="radio" name="Genitales" value="2"> 2</td>
            <td><input type="radio" name="Genitales" value="3"> 3</td>
            <td><input type="radio" name="Genitales" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">15</th>
            <td>Hipocondría</td>
            <td><input type="radio" name="Hipocondria" value="0"> 0</td>
            <td><input type="radio" name="Hipocondria" value="1"> 1</td>
            <td><input type="radio" name="Hipocondria" value="2"> 2</td>
            <td><input type="radio" name="Hipocondria" value="3"> 3</td>
            <td><input type="radio" name="Hipocondria" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">16</th>
            <td>Pérdida de peso</td>
            <td><input type="radio" name="Peso" value="0"> 0</td>
            <td><input type="radio" name="Peso" value="1"> 1</td>
            <td><input type="radio" name="Peso" value="2"> 2</td>
            <td><input type="radio" name="Peso" value="3"> 3</td>
            <td><input type="radio" name="Peso" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">17</th>
            <td>Introspección (insight)</td>
            <td><input type="radio" name="Introspeccion" value="0"> 0</td>
            <td><input type="radio" name="Introspeccion" value="1"> 1</td>
            <td><input type="radio" name="Introspeccion" value="2"> 2</td>
            <td><input type="radio" name="Introspeccion" value="3"> 3</td>
            <td><input type="radio" name="Introspeccion" value="4"> 4</td>
          </tr>


        </tbody>
          </table>
        </div>
      </div>

    </fieldset>

    <!-- PARA LA ANSIEDAD -->

    <fieldset class="space-y-8">
      <div class="section-card">
        <div class="section-header">
          <div>
            <h3 class="section-title">Síntomas de ansiedad</h3>
            <p class="section-subtitle">Indica la intensidad con la que lo has percibido.</p>
          </div>
        </div>
        <div class="table-container">
          <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Pregunta</th>
            <th scope="col">Nunca</th>
            <th scope="col">Leve</th>
            <th scope="col">Poco</th>
            <th scope="col">Mucho</th>
            <th scope="col">Frecuentemente</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <th scope="row">1</th>
            <td>Estado de ánimo ansioso (Preocupaciones, anticipación de lo peor, apresión (anticipación
              temerosa), irritabilidad)</td>
            <td><input type="radio" name="Estadoansioso" value="0"> 0</td>
            <td><input type="radio" name="Estadoansioso" value="1"> 1</td>
            <td><input type="radio" name="Estadoansioso" value="2"> 2</td>
            <td><input type="radio" name="Estadoansioso" value="3"> 3</td>
            <td><input type="radio" name="Estadoansioso" value="4"> 4</td>
          </tr>

          <tr>
            <th scope="row">2</th>
            <td>Tensión (Sensación de tensión, imposibilidad de relajarse, reacciones con sobresalto, llanto fácil,
              tamblores, sensación de inquietud)</td>
            <td><input type="radio" name="Tension" value="0"> 0</td>
            <td><input type="radio" name="Tension" value="1"> 1</td>
            <td><input type="radio" name="Tension" value="2"> 2</td>
            <td><input type="radio" name="Tension" value="3"> 3</td>
            <td><input type="radio" name="Tension" value="4"> 4</td>
          </tr>

          <tr>
            <th scope="row">3</th>
            <td>Temores (A la oscuridad, a los desconocidos, a quedarse solo, a los animales grandes, al tráfico, a las
              multitudes)</td>
            <td><input type="radio" name="Temores" value="0"> 0</td>
            <td><input type="radio" name="Temores" value="1"> 1</td>
            <td><input type="radio" name="Temores" value="2"> 2</td>
            <td><input type="radio" name="Temores" value="3"> 3</td>
            <td><input type="radio" name="Temores" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">4</th>
            <td>Insomnio (Dificultad para dormirse, sueño interrumpido, sueño insatisfactorio y cansancio al despertar)
            </td>
            <td><input type="radio" name="Insomnio" value="0"> 0</td>
            <td><input type="radio" name="Insomnio" value="1"> 1</td>
            <td><input type="radio" name="Insomnio" value="2"> 2</td>
            <td><input type="radio" name="Insomnio" value="3"> 3</td>
            <td><input type="radio" name="Insomnio" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">5</th>
            <td>Intelectual (cognitivo) (Dificultad para concentrarse, mala memoria)</td>
            <td><input type="radio" name="Intelectual" value="0"> 0</td>
            <td><input type="radio" name="Intelectual" value="1"> 1</td>
            <td><input type="radio" name="Intelectual" value="2"> 2</td>
            <td><input type="radio" name="Intelectual" value="3"> 3</td>
            <td><input type="radio" name="Intelectual" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">6</th>
            <td>Estado de ánimo deprimido (Pérdida de interés, insatisfacción en las diversiones, depresión, despertar
              prematuro, cambios de humor durante el día)</td>
            <td><input type="radio" name="Estadodeprimido" value="0"> 0</td>
            <td><input type="radio" name="Estadodeprimido" value="1"> 1</td>
            <td><input type="radio" name="Estadodeprimido" value="2"> 2</td>
            <td><input type="radio" name="Estadodeprimido" value="3"> 3</td>
            <td><input type="radio" name="Estadodeprimido" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">7</th>
            <td>Sintomas somáticos generales (musculares) (Dolores y molestias musculares, rigidez muscular,
              contracciones musculares, sacudidad clónicas, crujir de dientes, voz temblorosa)</td>
            <td><input type="radio" name="Musculares" value="0"> 0</td>
            <td><input type="radio" name="Musculares" value="1"> 1</td>
            <td><input type="radio" name="Musculares" value="2"> 2</td>
            <td><input type="radio" name="Musculares" value="3"> 3</td>
            <td><input type="radio" name="Musculares" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">8</th>
            <td>Sintomas somáticos generales (sensoriales) (Zumbidos de oídos, visión borrosa, sofocos y escalofrios,
              sensación de debilidad, sensacion de hormigueo)</td>
            <td><input type="radio" name="Sensoriales" value="0"> 0</td>
            <td><input type="radio" name="Sensoriales" value="1"> 1</td>
            <td><input type="radio" name="Sensoriales" value="2"> 2</td>
            <td><input type="radio" name="Sensoriales" value="3"> 3</td>
            <td><input type="radio" name="Sensoriales" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">9</th>
            <td>Sintomas cardiovasculares (Taquicardia, palpitaciones, dolor en el pecho, latidos vasculares, sensación
              de desmayo, extrasistole)</td>
            <td><input type="radio" name="Cardiovasculares" value="0"> 0</td>
            <td><input type="radio" name="Cardiovasculares" value="1"> 1</td>
            <td><input type="radio" name="Cardiovasculares" value="2"> 2</td>
            <td><input type="radio" name="Cardiovasculares" value="3"> 3</td>
            <td><input type="radio" name="Cardiovasculares" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">10</th>
            <td>Sintomas respiratorios (Opresión o construcción en el pecho, sensación de ahogo, suspiros, disnea)</td>
            <td><input type="radio" name="Respiratorios" value="0"> 0</td>
            <td><input type="radio" name="Respiratorios" value="1"> 1</td>
            <td><input type="radio" name="Respiratorios" value="2"> 2</td>
            <td><input type="radio" name="Respiratorios" value="3"> 3</td>
            <td><input type="radio" name="Respiratorios" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">11</th>
            <td>Sintomas gastrointestinales (Dificultad para tragar, gases, dispepsia: dolor antes y despues de comer,
              sensación de ardor, sensación de estómago lleno, vómitos acuosos, vómitos, sensación de estómago vacío,
              digestión lenta, borbrigmos (ruido intestinal), diarea, pérdida de peso, estreñimiento)</td>
            <td><input type="radio" name="Gastrointestinales" value="0"> 0</td>
            <td><input type="radio" name="Gastrointestinales" value="1"> 1</td>
            <td><input type="radio" name="Gastrointestinales" value="2"> 2</td>
            <td><input type="radio" name="Gastrointestinales" value="3"> 3</td>
            <td><input type="radio" name="Gastrointestinales" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">12</th>
            <td>Sintomas genitourinarios (Micción frecuente, micción urgente, amenorrea, menorragia, aparición de la
              frigidez, eyaculación precoz, ausencia de erección, impotencia)</td>
            <td><input type="radio" name="Genitourinarios" value="0"> 0</td>
            <td><input type="radio" name="Genitourinarios" value="1"> 1</td>
            <td><input type="radio" name="Genitourinarios" value="2"> 2</td>
            <td><input type="radio" name="Genitourinarios" value="3"> 3</td>
            <td><input type="radio" name="Genitourinarios" value="4"> 4</td>
          </tr>


          <tr>
            <th scope="row">13</th>
            <td>Síntomas autónomos (Boca seca, rubor, palidez, tendencia a sudar, vértigos, cefaleas de tensión,
              piloerección (pelos de punta))</td>
            <td><input type="radio" name="Autonomos" value="0"> 0</td>
            <td><input type="radio" name="Autonomos" value="1"> 1</td>
            <td><input type="radio" name="Autonomos" value="2"> 2</td>
            <td><input type="radio" name="Autonomos" value="3"> 3</td>
            <td><input type="radio" name="Autonomos" value="4"> 4</td>
          </tr>

        </tbody>
          </table>
        </div>
      </div>
    </fieldset>


    <div class="flex flex-wrap gap-3 pt-2">
      <button id="botonenviar" class="btn-primary" type="submit" onclick="">Generar Diagnóstico</button>
      <button id="Limpiar" class="btn-secondary" type="reset">Limpiar formulario</button>
    </div>
  </form>
</div>
<br>




<script>
  (function () {
    const form = document.getElementById("formulario");
    const submitBtn = document.getElementById("botonenviar");
    const requiredGroups = [
      { name: "Genero", label: "Género" },
      { name: "Edad", label: "Rango de edad" },

      { name: "Humordepresivo", label: "Depresión (pregunta 1)" },
      { name: "Sentimientoculpa", label: "Depresión (pregunta 2)" },
      { name: "Suicidio", label: "Depresión (pregunta 3)" },
      { name: "Insomnioprecoz", label: "Depresión (pregunta 4)" },
      { name: "Insomniointermedio", label: "Depresión (pregunta 5)" },
      { name: "Insomniotardio", label: "Depresión (pregunta 6)" },
      { name: "Trabajoactividades", label: "Depresión (pregunta 7)" },
      { name: "Inhibicionpsicomotora", label: "Depresión (pregunta 8)" },
      { name: "Agitacionpsicomotora", label: "Depresión (pregunta 9)" },
      { name: "Ansiedadpsiquica", label: "Depresión (pregunta 10)" },
      { name: "Ansiedadsomatica", label: "Depresión (pregunta 11)" },
      { name: "Somaticosgastrointestinales", label: "Depresión (pregunta 12)" },
      { name: "Somaticosgenerales", label: "Depresión (pregunta 13)" },
      { name: "Genitales", label: "Depresión (pregunta 14)" },
      { name: "Hipocondria", label: "Depresión (pregunta 15)" },
      { name: "Peso", label: "Depresión (pregunta 16)" },
      { name: "Introspeccion", label: "Depresión (pregunta 17)" },

      { name: "Estadoansioso", label: "Ansiedad (pregunta 1)" },
      { name: "Tension", label: "Ansiedad (pregunta 2)" },
      { name: "Temores", label: "Ansiedad (pregunta 3)" },
      { name: "Insomnio", label: "Ansiedad (pregunta 4)" },
      { name: "Intelectual", label: "Ansiedad (pregunta 5)" },
      { name: "Estadodeprimido", label: "Ansiedad (pregunta 6)" },
      { name: "Musculares", label: "Ansiedad (pregunta 7)" },
      { name: "Sensoriales", label: "Ansiedad (pregunta 8)" },
      { name: "Cardiovasculares", label: "Ansiedad (pregunta 9)" },
      { name: "Respiratorios", label: "Ansiedad (pregunta 10)" },
      { name: "Gastrointestinales", label: "Ansiedad (pregunta 11)" },
      { name: "Genitourinarios", label: "Ansiedad (pregunta 12)" },
      { name: "Autonomos", label: "Ansiedad (pregunta 13)" },
    ];

    const getMissing = () => requiredGroups.find(group => !document.querySelector(`input[name="${group.name}"]:checked`));

    form.addEventListener("submit", function (event) {
      const missing = getMissing();
      if (missing) {
        event.preventDefault();
        Swal.fire({
          icon: "warning",
          title: "Falta una respuesta",
          text: `Por favor selecciona una opción en: ${missing.label}.`,
        });

        const firstInput = document.querySelector(`input[name="${missing.name}"]`);
        if (firstInput) {
          firstInput.scrollIntoView({ behavior: "smooth", block: "center" });
          firstInput.focus();
        }
        return;
      }

      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = "Procesando...";
        submitBtn.classList.add("opacity-70", "cursor-not-allowed");
      }
    });
  })();
</script>

</section>
{% endblock %}